#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "levels/thi/header.h"
const LevelScript level_thi_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _thi_segment_7SegmentRomStart, _thi_segment_7SegmentRomEnd),
LOAD_MIO0(0xA,_bitfs_skybox_mio0SegmentRomStart,_bitfs_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group2_mio0SegmentRomStart,_group2_mio0SegmentRomEnd),
LOAD_RAW(12,_group2_geoSegmentRomStart,_group2_geoSegmentRomEnd),
LOAD_MIO0(6,_group16_mio0SegmentRomStart,_group16_mio0SegmentRomEnd),
LOAD_RAW(13,_group16_geoSegmentRomStart,_group16_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_3),
JUMP_LINK(script_func_global_17),
JUMP_LINK(local_area_thi_1_),
JUMP_LINK(local_area_thi_2_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_thi_1_[] = {
AREA(1,Geo_thi_1_0x19001700),
TERRAIN(col_thi_1_0xe034268),
SET_BACKGROUND_MUSIC(0,6),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_thi_1_),
JUMP_LINK(local_warps_thi_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_thi_1_[] = {
OBJECT_WITH_ACTS(0,0,232,0,0,0,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(122,-6409,4920,-6669,0,0,0,0x0, bhvStar,31),
OBJECT_WITH_ACTS(0,586,345,50,0,0,0,0x1000000, bhvHiddenRedCoinStar,31),
OBJECT_WITH_ACTS(122,-1872,295,5399,0,0,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(122,4480,-65,-1455,0,0,0,0x4000000, bhvStar,31),
OBJECT_WITH_ACTS(0,-156,208,365,0,0,0,0x3000000, bhvHiddenStar,31),
OBJECT_WITH_ACTS(0,3429,2188,-4717,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,-3731,1562,-4130,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,5149,1875,4941,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,-3490,3229,4635,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,157,365,-6198,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(122,-3382,1771,4583,0,0,0,0x5000000, bhvStar,31),
OBJECT_WITH_ACTS(195,-521,-497,-521,0,0,0,0x0, bhvBobombBuddyOpensCannon,31),
OBJECT_WITH_ACTS(201,-6250,-104,-677,0,0,0,0x0, bhvCannonClosed,31),
OBJECT_WITH_ACTS(201,-3140,1406,2130,0,0,0,0x0, bhvCannonClosed,31),
OBJECT_WITH_ACTS(137,1250,-104,208,0,0,0,0x0, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,4948,833,2604,0,0,0,0x0, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-2865,1771,2344,0,0,0,0x0, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-4844,-261,4479,0,0,0,0x0, bhvExclamationBox,31),
OBJECT_WITH_ACTS(124,-3937,-30,-4357,0,90,0,0x380000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(215,1875,-573,-313,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,573,-573,1823,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,5208,-469,781,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-2969,-573,-4167,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-3177,1458,-1251,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,6406,52,-6979,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-4844,-260,625,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,7292,-313,6719,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(140,5261,472,2812,0,0,0,0x0, bhvBlueCoinSwitch,31),
OBJECT_WITH_ACTS(140,-3730,1434,-4113,0,90,0,0x0, bhvBlueCoinSwitch,31),
OBJECT_WITH_ACTS(118,4861,524,3020,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,4604,524,3204,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,3904,643,3683,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,3609,695,3977,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,3499,695,4235,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,3536,695,4567,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,3698,729,5521,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,3802,573,6094,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,3906,208,6823,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,4010,-376,7604,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(212,885,-260,4167,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,-4844,-365,7188,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,-6094,-208,-4844,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(118,-3125,1563,-4531,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-2500,1250,-4896,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-1823,469,-5208,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-1042,-156,-5313,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-156,-313,-5156,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,573,-365,-4792,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(0,5058,2396,5015,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,5058,2631,5015,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,5058,2873,5015,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,3438,2656,-4740,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,3438,2917,-4740,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,3438,3177,-4740,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-3750,2031,-4115,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-3750,2292,-4115,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-3750,2552,-4115,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-3438,3698,4583,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-3438,3958,4583,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-3438,4219,4583,90,0,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,5208,990,677,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,1042,-469,5156,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,573,-156,1823,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,1875,-156,-313,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(223,4531,-480,7604,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-2865,-358,6146,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(220,260,417,-365,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(0,-6250,104,-677,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-3125,1615,2135,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,5260,-407,6302,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(212,8021,-313,-7864,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(0,5343,-260,4874,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(129,-3698,1434,2083,0,0,0,0x10000, bhvBreakableBox,31),
OBJECT_WITH_ACTS(116,-3707,1719,2074,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(137,-4323,-260,5990,0,0,0,0x50000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(129,4687,-365,4323,0,0,0,0x10000, bhvBreakableBox,31),
OBJECT_WITH_ACTS(130,3802,-480,7604,0,0,0,0x0, bhvBreakableBoxSmall,31),
OBJECT_WITH_ACTS(137,5260,-104,7604,0,0,0,0x0, bhvExclamationBox,31),
RETURN()
};
const LevelScript local_warps_thi_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,9,1,12,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,9,1,14,0),
WARP_NODE(14,9,1,13,0),
WARP_NODE(240,6,1,2,0),
WARP_NODE(241,6,1,14,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
const LevelScript local_area_thi_2_[] = {
AREA(2,Geo_thi_2_0x19001700),
TERRAIN(col_thi_2_0xe036aa0),
SET_BACKGROUND_MUSIC(0,6),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_thi_2_),
JUMP_LINK(local_warps_thi_2_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_thi_2_[] = {
OBJECT_WITH_ACTS(0,-710,-260,413,0,0,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(195,6309,4826,-805,0,0,0,0x0, bhvBobombBuddyOpensCannon,31),
OBJECT_WITH_ACTS(201,-6442,-123,661,0,180,0,0x0, bhvCannonClosed,31),
OBJECT_WITH_ACTS(122,-6560,2057,6649,0,0,0,0x0, bhvStar,31),
OBJECT_WITH_ACTS(0,886,-53,-5153,0,0,0,0x1000000, bhvHiddenStar,31),
OBJECT_WITH_ACTS(122,4415,-255,1374,0,0,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(122,-3027,422,-6147,0,0,0,0x3000000, bhvStar,31),
OBJECT_WITH_ACTS(122,-3669,1776,-4580,0,0,0,0x4000000, bhvStar,31),
OBJECT_WITH_ACTS(0,5069,0,-4741,0,0,0,0x5000000, bhvHiddenRedCoinStar,31),
OBJECT_WITH_ACTS(0,-3603,3163,-4616,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,4901,1818,-4930,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,-3906,1411,4081,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,-14,221,6094,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,3281,2046,4688,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,-3603,3187,-4621,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(0,4901,1842,-4930,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(0,-3906,1435,4081,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(0,3281,2070,4688,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(0,-14,245,6094,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(215,-3333,1251,1299,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,3169,-620,5336,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-3640,-568,-4359,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-6528,-52,5113,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-7760,-677,-7760,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,6354,3279,573,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-938,-260,-1719,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,990,-313,313,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(137,-5173,-359,-4692,0,0,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(207,6983,-724,7595,0,55,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(207,-2079,-88,-5321,0,200,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(129,4854,-873,5953,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,4237,-873,5412,0,32,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,4017,-873,4593,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,3157,-873,5348,0,-11,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,4564,-873,2642,0,-11,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,4391,-1251,3394,0,-29,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(0,-3606,1066,-4586,0,90,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(129,-2962,0,-4593,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-2962,204,-4593,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-2962,407,-4593,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-2962,611,-4593,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-2962,814,-4593,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-2342,0,-4614,0,0,45,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(22,-3846,-58,4187,0,0,0,0xb0000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(120,25,-400,-82,0,0,0,0x0, bhvRecoveryHeart,31),
OBJECT_WITH_ACTS(212,-4260,28,4146,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(140,3616,-504,-7619,0,0,0,0x0, bhvBlueCoinSwitch,31),
OBJECT_WITH_ACTS(118,3064,-669,-7564,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,2429,-669,-6984,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,2457,-669,-6128,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,2015,-669,-5438,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,1325,-669,-4941,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,2020,-541,-5465,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,1343,-541,-4944,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,2437,-541,-6142,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(120,-6432,-57,385,0,0,0,0x0, bhvRecoveryHeart,31),
OBJECT_WITH_ACTS(223,-3230,-381,-6156,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,5048,-320,-4914,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(129,-3340,1411,-2098,0,13,0,0x10000, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,4858,449,-2760,0,-20,0,0x10000, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,4468,-375,-4347,0,0,0,0x10000, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,442,-80,-83,0,0,0,0x0, bhvJumpingBox,31),
OBJECT_WITH_ACTS(0,1656,-341,331,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,386,-341,-1849,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(120,-6644,407,-7057,0,0,0,0x0, bhvRecoveryHeart,31),
OBJECT_WITH_ACTS(0,3986,-1022,3121,0,57,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(0,-1662,240,-4466,0,-98,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(180,4850,-635,5955,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,4245,-635,5407,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,4024,-635,4600,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,4562,-635,2660,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-6377,-154,-6791,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,699,-312,-2852,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,442,-312,-3536,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,681,-312,-4199,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(124,1160,-487,-276,0,-58,0,0x2c0000, bhvMessagePanel,31),
RETURN()
};
const LevelScript local_warps_thi_2_[] = {
WARP_NODE(10,16,2,10,0),
WARP_NODE(11,16,2,10,0),
WARP_NODE(12,9,2,11,0),
WARP_NODE(13,9,2,14,0),
WARP_NODE(14,9,2,13,0),
WARP_NODE(240,6,2,8,0),
WARP_NODE(241,6,2,9,0),
WARP_NODE(0,9,2,10,0),
WARP_NODE(1,9,2,10,0),
WARP_NODE(2,9,2,10,0),
WARP_NODE(3,9,2,10,0),
WARP_NODE(4,9,2,10,0),
WARP_NODE(5,9,2,10,0),
WARP_NODE(6,9,2,10,0),
RETURN()
};
